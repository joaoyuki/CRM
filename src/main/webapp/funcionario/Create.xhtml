<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>

        <p:dialog id="FuncionarioCreateDlg" widgetVar="FuncionarioCreateDialog" modal="true" resizable="false" appendTo="@(body)" header="#{bundle.CreateFuncionarioTitle}">

            <h:form enctype="multipart/form-data" id="FuncionarioCreateForm">
                <p:tabView id="menu"  >
                    <p:tab id="informacoes" title="Informações gerais">
                        <h:panelGroup id="display">
                            <p:panelGrid columns="4" rendered="#{funcionarioController.selected != null}">
                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_nomeFuncionario}" for="nomeFuncionario" />
                                <p:inputText id="nomeFuncionario" value="#{funcionarioController.selected.nomeFuncionario}" title="#{bundle.CreateFuncionarioTitle_nomeFuncionario}" required="true" requiredMessage="#{bundle.CreateFuncionarioRequiredMessage_nomeFuncionario}"/>
                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_sobrenomeFuncionario}" for="sobrenomeFuncionario" />
                                <p:inputText id="sobrenomeFuncionario" value="#{funcionarioController.selected.sobrenomeFuncionario}" title="#{bundle.CreateFuncionarioTitle_sobrenomeFuncionario}" required="true" requiredMessage="#{bundle.CreateFuncionarioRequiredMessage_sobrenomeFuncionario}"/>
                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_rg}" for="rg" />
                                <p:inputText id="rg" value="#{funcionarioController.selected.rg}" title="#{bundle.CreateFuncionarioTitle_rg}" />
                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_cpf}" for="cpf" />
                                <p:inputText id="cpf" value="#{funcionarioController.selected.cpf}" title="#{bundle.CreateFuncionarioTitle_cpf}" />
                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_ramal}" for="ramal" />
                                <p:inputText id="ramal" value="#{funcionarioController.selected.ramal}" title="#{bundle.CreateFuncionarioTitle_ramal}" />
                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_sexo}" for="sexo" />

                                <p:selectOneMenu id="sexo" value="#{funcionarioController.selected.sexo}" >
                                    <f:selectItem itemLabel="Feminino" itemValue="f" />
                                    <f:selectItem itemLabel="Masculino" itemValue="m" />
                                </p:selectOneMenu>

                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_dataNascimento}" for="dataNascimento" />
                                <p:calendar id="dataNascimento" pattern="MM/dd/yyyy" value="#{funcionarioController.selected.dataNascimento}" title="#{bundle.EditFuncionarioTitle_dataNascimento}" required="true" requiredMessage="#{bundle.EditFuncionarioRequiredMessage_dataNascimento}" showOn="button"/>
                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_estadoCivil}" for="estadoCivil" />

                                <p:selectOneMenu id="estadoCivil" value="#{funcionarioController.selected.estadoCivil}">
                                    <f:selectItem itemLabel="Solteiro(a)" itemValue="s" />
                                    <f:selectItem itemLabel="Casado(a)" itemValue="c" />
                                    <f:selectItem itemLabel="Viuvo(a)" itemValue="v" />
                                </p:selectOneMenu>

                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_dataCasamento}" for="dataCasamento" />
                                <p:calendar id="dataCasamento" pattern="MM/dd/yyyy" value="#{funcionarioController.selected.dataCasamento}" title="#{bundle.EditFuncionarioTitle_dataCasamento}"  showOn="button"/>
                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_dependentes}" for="dependentes" />
                                <p:selectOneRadio id="dependentes" value="#{funcionarioController.selected.dependentes}">
                                    <f:selectItem itemLabel="Sim" itemValue="1" />
                                    <f:selectItem itemLabel="Não" itemValue="2" />
                                </p:selectOneRadio>                        
                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_emailEmpresa}" for="emailEmpresa" />
                                <p:inputText id="emailEmpresa" value="#{funcionarioController.selected.emailEmpresa}" title="#{bundle.CreateFuncionarioTitle_emailEmpresa}" />
                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_emailPessoal}" for="emailPessoal" />
                                <p:inputText id="emailPessoal" value="#{funcionarioController.selected.emailPessoal}" title="#{bundle.CreateFuncionarioTitle_emailPessoal}" />
                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_grauEscolar}" for="grauEscolar" />

                                <p:selectOneMenu id="grauEscolar" value="#{funcionarioController.selected.grauEscolar}">
                                    <f:selectItem itemLabel="Ensino fundamental" itemValue="Ensino fundamental" />
                                    <f:selectItem itemLabel="Ensino médio" itemValue="Ensino médio" />
                                    <f:selectItem itemLabel="Ensino superior" itemValue="Ensino superior" />
                                    <f:selectItem itemLabel="Pós Graduação (MBA / Mestrado / Doutorado)" itemValue="Pós Graduação (MBA / Mestrado / Doutorado)" />
                                    <f:selectItem itemLabel="PHD" itemValue="PHD" />
                                </p:selectOneMenu>    

                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_planoSaudeInterno}" for="planoSaudeInterno" />
                                <p:selectOneRadio id="planoSaudeInterno" value="#{funcionarioController.selected.planoSaudeInterno}">
                                    <f:selectItem itemLabel="Sim" itemValue="1" />
                                    <f:selectItem itemLabel="Não" itemValue="2" />
                                </p:selectOneRadio>                            
                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_dataAdmissão}" for="dataAdmissão" />
                                <p:calendar id="dataAdmissão" pattern="MM/dd/yyyy HH:mm:ss" value="#{funcionarioController.selected.dataAdmissão}" title="#{bundle.EditFuncionarioTitle_dataAdmissão}" required="true" requiredMessage="#{bundle.EditFuncionarioRequiredMessage_dataAdmissão}" showOn="button"/>
                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_dataDemissao}" for="dataDemissao" />
                                <p:calendar id="dataDemissao" pattern="MM/dd/yyyy HH:mm:ss" value="#{funcionarioController.selected.dataDemissao}" title="#{bundle.EditFuncionarioTitle_dataDemissao}"  showOn="button"/>
                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_salarioBruto}" for="salarioBruto" />

                                <p:inputText id="salarioBruto" value="#{funcionarioController.selected.salarioBruto}" title="#{bundle.CreateFuncionarioTitle_salarioBruto}">
                                    <f:convertNumber minFractionDigits="2" />
                                </p:inputText>
                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_numeroCarteiraTrabalho}" for="numeroCarteiraTrabalho" />
                                <p:inputText id="numeroCarteiraTrabalho" value="#{funcionarioController.selected.numeroCarteiraTrabalho}" title="#{bundle.CreateFuncionarioTitle_numeroCarteiraTrabalho}" />
                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_fkidCargo}" for="fkidCargo" />
                                <p:selectOneMenu id="fkidCargo" value="#{funcionarioController.selected.fkidCargo}" >
                                    <f:selectItems value="#{cargoController.itemsAvailableSelectOne}"
                                                   var="fkidCargoItem"
                                                   itemValue="#{fkidCargoItem}"/>
                                </p:selectOneMenu>
                                <p:outputLabel value="#{bundle.CreateFuncionarioLabel_fkidSetor}" for="fkidSetor" />
                                <p:selectOneMenu id="fkidSetor" value="#{funcionarioController.selected.fkidSetor}" required="true" requiredMessage="#{bundle.EditFuncionarioRequiredMessage_fkidSetor}">
                                    <f:selectItems value="#{setorController.itemsAvailableSelectOne}"
                                                   var="fkidSetorItem"
                                                   itemValue="#{fkidSetorItem}"/>
                                </p:selectOneMenu>
                            </p:panelGrid>
                            <p:panelGrid columns="2" rendered="#{funcionarioController.selected != null}">
                                <p:fileUpload fileUploadListener="#{funcionarioController.doUpload}" label="Procurar..." auto="false" mode="advanced" fileLimit="1"  >
                                    <f:attribute name="tipoArquivo" value="foto" />
                                </p:fileUpload>
                                <!--<p:messages  severity="info" escape="false" showDetail="true"  autoUpdate="true" closable="true"/>-->
                            </p:panelGrid>
                            <p:commandButton actionListener="#{funcionarioController.create}" value="#{bundle.Save}" update="display,:FuncionarioListForm:datalist,:growl" oncomplete="handleSubmit(args,'FuncionarioCreateDialog');"/>
                            <!--<p:commandButton value="#{bundle.Cancel}" onclick="FuncionarioCreateDialog.hide()"/>-->
                        </h:panelGroup>
                    </p:tab>
                    <p:tab id="documentos" title="Documentos">
                        <h:panelGroup id="painelDocumentos">
                            <p:panelGrid columns="2" rendered="#{funcionarioController.selected != null}">
                                
                                <p:outputLabel value="RG" ></p:outputLabel>
                                <p:fileUpload 
                                    label="Adicionar imagem do RG" 
                                    fileUploadListener="#{funcionarioController.doUpload}" 
                                    auto="false" 
                                    mode="advanced" 
                                    fileLimit="1" >
                                    <f:attribute name="tipoArquivo" value="rg" />
                                </p:fileUpload>
                                
                                <p:outputLabel value="CPF" ></p:outputLabel>
                                <p:fileUpload 
                                    label="Adicionar imagem do CPF" 
                                    fileLimit="1"
                                    fileUploadListener="#{funcionarioController.doUpload}" >
                                    <f:attribute name="tipoArquivo" value="cpf" />
                                </p:fileUpload>
                                
                                <p:outputLabel value="Carteira de trabalho" ></p:outputLabel>
                                <p:fileUpload label="Adicionar imagem da CTPS" ></p:fileUpload>
                            </p:panelGrid>
                        </h:panelGroup>
                    </p:tab>
                </p:tabView>

            </h:form>

            <p:messages  severity="info" escape="false" showDetail="true" 
                         autoUpdate="true" closable="true"/>
        </p:dialog>

    </ui:composition>
</html>
